{"openapi":"3.0.0","info":{"title":"Elintys API","version":"1.0.0","description":"Documentation interactive de l'API Elintys — Gestion des événements, utilisateurs, tickets et notifications.","contact":{"name":"Équipe Elintys","email":"support@elintys.com"}},"servers":[{"url":"http://localhost:3000","description":"Serveur local de développement"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"Ajoutez ici votre token Firebase. Exemple : `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`"}},"schemas":{"Category":{"type":"object","required":["name"],"properties":{"_id":{"type":"string","example":"671a8b5e0000000000000101"},"name":{"type":"string","example":"Business"},"description":{"type":"string","example":"Événements liés à l’entrepreneuriat et au commerce"},"color":{"type":"string","example":"#1E90FF"},"icon":{"type":"string","example":"briefcase"},"isActive":{"type":"boolean","example":true}}},"Event":{"type":"object","required":["title","organizer","startDate","endDate"],"properties":{"_id":{"type":"string","description":"ID unique de l'événement","example":"670b1f12abcde9012f5d1234"},"title":{"type":"string","description":"Titre de l'événement"},"description":{"type":"string","description":"Brève description de l'événement"},"organizer":{"type":"string","description":"ID de l’utilisateur organisateur"},"organization":{"type":"string","description":"ID de l'organisation liée"},"venue":{"type":"string","description":"ID du lieu de l'événement"},"category":{"type":"string","example":"Business"},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"},"isPublic":{"type":"boolean"},"tickets":{"type":"array","items":{"type":"string"}},"staff":{"type":"array","items":{"type":"string"}}}},"Invitation":{"type":"object","required":["event","sender","recipientEmail"],"properties":{"_id":{"type":"string"},"event":{"type":"string","example":"670b1f12abcde9012f5d3333"},"sender":{"type":"string","example":"670b1f12abcde9012f5d2222"},"recipientEmail":{"type":"string","example":"invitee@example.com"},"status":{"type":"string","enum":["pending","accepted","declined"],"example":"pending"},"sentAt":{"type":"string","format":"date-time"}}},"Notification":{"type":"object","required":["user","title","message"],"properties":{"_id":{"type":"string"},"user":{"type":"string","description":"ID de l’utilisateur destinataire"},"title":{"type":"string","example":"Nouvelle invitation reçue"},"message":{"type":"string","example":"Vous avez été invité à l’événement TechNova 2025."},"type":{"type":"string","example":"event"},"read":{"type":"boolean","example":false}}},"Organization":{"type":"object","required":["name","owner"],"properties":{"_id":{"type":"string"},"name":{"type":"string","example":"Nova Événementiel"},"logoUrl":{"type":"string","example":"https://elyntis.s3.ca-central-1.amazonaws.com/logos/nova.png"},"description":{"type":"string","example":"Agence de planification d’événements à Montréal"},"owner":{"type":"string","description":"ID du propriétaire (utilisateur)"},"members":{"type":"array","items":{"type":"string"}},"events":{"type":"array","items":{"type":"string"}}}},"Ticket":{"type":"object","required":["event","owner","type","price"],"properties":{"_id":{"type":"string"},"event":{"type":"string","description":"ID de l’événement concerné"},"owner":{"type":"string","description":"ID de l’utilisateur détenteur"},"type":{"type":"string","enum":["standard","vip","premium"]},"price":{"type":"number","example":50},"qrCode":{"type":"string","example":"QR_ABC123XYZ"},"status":{"type":"string","enum":["active","used","cancelled"],"example":"active"}}},"User":{"type":"object","required":["firebaseUid","firstName","lastName","email"],"properties":{"_id":{"type":"string","description":"ID unique de l'utilisateur dans MongoDB","example":"670b1f12abcde9012f5d1234"},"firebaseUid":{"type":"string","description":"ID unique provenant de Firebase Authentication","example":"WxYzAbC1234"},"firstName":{"type":"string","description":"Prénom de l'utilisateur","example":"Klan"},"lastName":{"type":"string","description":"Nom de famille de l'utilisateur","example":"Saah"},"email":{"type":"string","description":"Adresse email unique de l'utilisateur","example":"klan@elyntis.com"},"avatarUrl":{"type":"string","description":"URL de la photo de profil","example":"https://randomuser.me/api/portraits/men/21.jpg"},"role":{"type":"string","enum":["user","organizer","staff","admin"],"description":"Rôle attribué à l'utilisateur","example":"organizer"},"organizations":{"type":"array","items":{"type":"string"},"description":"Liste des ID des organisations auxquelles l'utilisateur appartient","example":["671a2c1d0000000000000123"]},"createdEvents":{"type":"array","items":{"type":"string"},"description":"Liste des ID des événements créés par l'utilisateur","example":["671a2c1d0000000000000456"]},"tickets":{"type":"array","items":{"type":"string"},"description":"Liste des tickets appartenant à l'utilisateur","example":["671a2c1d0000000000000789"]},"notifications":{"type":"array","items":{"type":"string"},"description":"Liste des notifications reçues par l'utilisateur","example":["671a2c1d0000000000000999"]}}},"Venue":{"type":"object","required":["name","address","capacity"],"properties":{"_id":{"type":"string","description":"ID unique du lieu","example":"670b1f12abcde9012f5d1111"},"name":{"type":"string","example":"Espace Lumière"},"address":{"type":"string","example":"120 Rue Sainte-Catherine, Montréal, QC"},"capacity":{"type":"number","example":250},"type":{"type":"string","example":"Salle de conférence"},"description":{"type":"string","example":"Salle moderne équipée d’un système audio-visuel complet"},"imageUrl":{"type":"string","example":"https://elyntis.s3.ca-central-1.amazonaws.com/venue1.jpg"}}}}},"security":[{"bearerAuth":[]}],"paths":{"/api/auth/register":{"post":{"summary":"Crée un nouvel utilisateur à partir d'un compte Firebase","tags":["Auth"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"firstName":{"type":"string","example":"Klan"},"lastName":{"type":"string","example":"Saah"},"email":{"type":"string","example":"klan@elyntis.com"},"avatarUrl":{"type":"string","example":"https://elyntis.com/avatars/klan.jpg"}}}}}},"responses":{"201":{"description":"Utilisateur créé avec succès"},"400":{"description":"Données invalides ou utilisateur déjà existant"},"401":{"description":"Token Firebase invalide ou manquant"}}}},"/api/auth/login":{"post":{"summary":"Connecte un utilisateur Firebase existant","tags":["Auth"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Connexion réussie, retourne le profil utilisateur"},"401":{"description":"Token Firebase invalide"},"404":{"description":"Profil utilisateur non trouvé"}}}},"/api/auth/update":{"put":{"summary":"Met à jour le profil de l'utilisateur connecté","tags":["Auth"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"firstName":{"type":"string","example":"Klan"},"lastName":{"type":"string","example":"Saah"},"avatarUrl":{"type":"string","example":"https://elyntis.com/avatars/klan-new.jpg"},"role":{"type":"string","enum":["user","organizer","staff","admin"]}}}}}},"responses":{"200":{"description":"Profil mis à jour avec succès"},"401":{"description":"Token Firebase invalide"},"404":{"description":"Utilisateur introuvable"}}}},"/api/auth/recover":{"post":{"summary":"Envoie un lien de réinitialisation du mot de passe Firebase","tags":["Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"klan@elyntis.com"}}}}}},"responses":{"200":{"description":"Lien de réinitialisation envoyé"},"400":{"description":"Adresse email manquante"},"500":{"description":"Erreur serveur lors de l'envoi du lien"}}}},"/api/categories":{"get":{"summary":"Liste toutes les catégories","tags":["Categories"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Liste complète des catégories"}}},"post":{"summary":"Créer une nouvelle catégorie","tags":["Categories"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"responses":{"201":{"description":"Catégorie créée avec succès"}}}},"/api/categories/{id}":{"get":{"summary":"Récupère une catégorie par ID","tags":["Categories"],"security":[{"bearerAuth":[]}]},"put":{"summary":"Met à jour une catégorie","tags":["Categories"],"security":[{"bearerAuth":[]}]},"delete":{"summary":"Supprime une catégorie","tags":["Categories"],"security":[{"bearerAuth":[]}]}},"/api/events":{"get":{"summary":"Liste tous les événements","tags":["Events"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Liste complète des événements"}}},"post":{"summary":"Créer un nouvel événement","tags":["Events"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Event"}}}},"responses":{"201":{"description":"Événement créé avec succès"}}}},"/api/events/{id}":{"get":{"summary":"Récupère un événement par ID","tags":["Events"],"security":[{"bearerAuth":[]}]},"put":{"summary":"Met à jour un événement existant","tags":["Events"],"security":[{"bearerAuth":[]}]},"delete":{"summary":"Supprime un événement","tags":["Events"],"security":[{"bearerAuth":[]}]}},"/api/events/user/{userId}":{"get":{"summary":"Récupère tous les événements créés par un utilisateur","tags":["Events"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"},"description":"ID de l'utilisateur (organisateur)"}],"responses":{"200":{"description":"Liste des événements de l'utilisateur"}}}},"/api/events/category/{categoryId}":{"get":{"summary":"Récupère tous les événements d'une catégorie donnée","tags":["Events"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"categoryId","required":true,"schema":{"type":"string"},"description":"ID de la catégorie"}],"responses":{"200":{"description":"Liste des événements appartenant à la catégorie","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Event"}}}}},"404":{"description":"Aucune donnée trouvée"}}}},"/api/invitations":{"get":{"summary":"Récupère toutes les invitations","tags":["Invitations"],"responses":{"200":{"description":"Détails de l'événement","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Invitation"}}}},"404":{"description":"Événement non trouvé"}}},"post":{"summary":"Crée une invitation","tags":["Invitations"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Invitation"}}}},"responses":{"201":{"description":"Invitation créée avec succès","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Invitation"}}}},"400":{"description":"Requête invalide"}}}},"/api/invitations/event/{eventId}":{"get":{"summary":"Récupère les invitations liées à un événement","tags":["Invitations"],"parameters":[{"in":"path","name":"eventId","required":true,"description":"ID de l'événement","schema":{"type":"string"}}],"responses":{"200":{"description":"Détails de l'événement","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Invitation"}}}},"404":{"description":"Invitation non trouvé"}}}},"/api/invitations/{id}":{"patch":{"summary":"Met à jour le statut d’une invitation (acceptée, refusée, etc.)","tags":["Invitations"],"parameters":[{"in":"path","name":"id","required":true,"description":"ID de l'invitation","schema":{"type":"string"}}],"responses":{"200":{"description":"Invitation mise à jour avec succès","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Invitation"}}}},"404":{"description":"Invitation non trouvée"}}},"delete":{"summary":"Supprime une invitation","tags":["Invitations"],"parameters":[{"in":"path","name":"id","required":true,"description":"ID de l'invitation","schema":{"type":"string"}}],"responses":{"204":{"description":"Invitation supprimée avec succès"},"404":{"description":"Invitation non trouvée"}}}},"/api/notifications":{"get":{"summary":"Récupère toutes les notifications","tags":["Notifications"]},"post":{"summary":"Crée une notification","tags":["Notifications"]}},"/api/notifications/user/{userId}":{"get":{"summary":"Récupère les notifications d’un utilisateur","tags":["Notifications"]}},"/api/notifications/{id}/read":{"patch":{"summary":"Marque une notification comme lue","tags":["Notifications"]}},"/api/notifications/{id}":{"delete":{"summary":"Supprime une notification","tags":["Notifications"]}},"/api/organizations":{"get":{"summary":"Récupère toutes les organisations","tags":["Organizations"]},"post":{"summary":"Crée une nouvelle organisation","tags":["Organizations"]}},"/api/organizations/{id}":{"get":{"summary":"Détails d’une organisation","tags":["Organizations"]},"put":{"summary":"Met à jour une organisation","tags":["Organizations"]},"delete":{"summary":"Supprime une organisation","tags":["Organizations"]}},"/api/tickets":{"get":{"summary":"Liste tous les tickets","tags":["Tickets"]},"post":{"summary":"Crée un ticket pour un utilisateur","tags":["Tickets"]}},"/api/tickets/{id}":{"get":{"summary":"Détails d’un ticket","tags":["Tickets"]},"put":{"summary":"Met à jour un ticket existant","tags":["Tickets"]},"delete":{"summary":"Supprime un ticket","tags":["Tickets"]}},"/api/users":{"get":{"summary":"Liste tous les utilisateurs (protégé)","tags":["Users"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Liste complète des utilisateurs","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}},"post":{"summary":"Crée un nouvel utilisateur lié à Firebase (protégé)","tags":["Users"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["firstName","lastName","email"],"properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"avatarUrl":{"type":"string"}},"example":{"firstName":"John","lastName":"Doe","email":"john.doe@elyntis.com","avatarUrl":"https://randomuser.me/api/portraits/men/21.jpg"}}}}},"responses":{"201":{"description":"Utilisateur créé avec succès"},"400":{"description":"Données invalides"}}}},"/api/users/{id}":{"get":{"summary":"Récupère un utilisateur par ID (protégé)","tags":["Users"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"ID de l'utilisateur MongoDB"}],"responses":{"200":{"description":"Détails de l'utilisateur","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"Utilisateur introuvable"}}},"put":{"summary":"Met à jour un utilisateur existant (protégé)","tags":["Users"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"responses":{"200":{"description":"Utilisateur mis à jour"},"403":{"description":"Accès refusé"},"404":{"description":"Utilisateur introuvable"}}},"delete":{"summary":"Supprime un utilisateur (protégé)","tags":["Users"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Utilisateur supprimé"},"403":{"description":"Accès refusé"},"404":{"description":"Utilisateur introuvable"}}}},"/api/venues":{"get":{"summary":"Récupère tous les lieux disponibles","tags":["Venues"],"responses":{"200":{"description":"Liste de tous les lieux"}}},"post":{"summary":"Crée un nouveau lieu","tags":["Venues"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Venue"}}}},"responses":{"201":{"description":"Lieu créé avec succès"}}}},"/api/venues/{id}":{"get":{"summary":"Récupère un lieu par ID","tags":["Venues"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"ID du lieu"}],"responses":{"200":{"description":"Détails du lieu"}}},"put":{"summary":"Met à jour un lieu existant","tags":["Venues"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"ID du lieu"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Venue"}}}},"responses":{"200":{"description":"Lieu mis à jour avec succès"},"404":{"description":"Lieu non trouvé"}}},"delete":{"summary":"Supprime un lieu","tags":["Venues"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"ID du lieu"}],"responses":{"204":{"description":"Lieu supprimé avec succès"},"404":{"description":"Lieu non trouvé"}}}}},"tags":[{"name":"Auth","description":"Gestion de l'authentification via Firebase et MongoDB"},{"name":"Categories","description":"Gestion des catégories d'événements"},{"name":"Events","description":"Gestion des événements Elyntis / GuestPass"},{"name":"Invitations","description":"Gestion des invitations à des événements"},{"name":"Notifications","description":"Gestion des notifications utilisateurs"},{"name":"Organizations","description":"Gestion des organisations partenaires ou organisatrices"},{"name":"Tickets","description":"Gestion des tickets (billets) d’accès aux événements"},{"name":"Users","description":"Gestion des utilisateurs Elyntis / GuestPass"},{"name":"Venues","description":"Gestion des lieux d'événements (salles, espaces, etc.)"}]}